<page-header [title]="'修改密码'" [breadcrumb]="breadcrumb">
  <ng-template #breadcrumb>
    <nz-breadcrumb>
      <nz-breadcrumb-item><a [routerLink]="['/dashboard']">首页</a></nz-breadcrumb-item>
      <nz-breadcrumb-item><a [routerLink]="['/center']">个人中心</a></nz-breadcrumb-item>
      <nz-breadcrumb-item><a>修改密码</a></nz-breadcrumb-item>
    </nz-breadcrumb>
  </ng-template>
</page-header>


<nz-card>
  <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()">
    
    <nz-form-item>
      <nz-form-label [nzSpan]="6" nzRequired>原始密码</nz-form-label>
      <div>
        <nz-form-control [nzSpan]="18" nzHasFeedback nzErrorTip="请输入您的旧密码或初始密码!">
          <input nz-input type="password" formControlName="old" placeholder="输入您的当前登录密码" />
        </nz-form-control>
      </div>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="6" nzRequired>重置密码</nz-form-label>
      <div>
        <nz-form-control [nzSpan]="18" nzHasFeedback nzErrorTip="设置新的密码：需要包括大写、小写、且密码长度大于8位数!">
          <input nz-input type="password" formControlName="password" placeholder="设置新的密码：需要包括大写、小写、且密码长度大于8位数" (ngModelChange)="validateConfirmPassword()" />
        </nz-form-control>
      </div>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="6" nzRequired>确认密码</nz-form-label>
      <nz-form-control [nzSpan]="18" nzHasFeedback [nzErrorTip]="passwordErrorTpl">
        <input nz-input type="password" formControlName="confirm" placeholder="重复输入您的新密码" />
        <ng-template #passwordErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">
            请再次输入您的新密码!
          </ng-container>
          <ng-container *ngIf="control.hasError('confirm')">
            两次输入的密码部相同!
          </ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control [nzOffset]="6" [nzSpan]="18">
        <button nz-button nzType="primary" [disabled]="!validateForm.valid">更换密码</button>
      </nz-form-control>
    </nz-form-item>
  </form>
</nz-card>