<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()">
    <nz-form-item>
        <nz-form-label nzFor="supplier_id" nzRequired>合同供应商</nz-form-label>
        <nz-form-control nzErrorTip="请选择合同供应商">
            <nz-select style="width: 100%;" id="supplier_id" nzShowSearch
                nzPlaceHolder="请选择合同供应商" formControlName="supplier_id">
                <ng-container *ngFor="let item of supplierList">
                    <nz-option [nzLabel]="item.name" [nzValue]="item.id"></nz-option>
               </ng-container>
             </nz-select>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label nzFor="company_id" nzRequired>所属单位</nz-form-label>
        <nz-form-control nzErrorTip="请选择合同所属单位">
            <nz-select style="width: 100%;" id="company_id" nzShowSearch
                nzPlaceHolder="请选择合同所属单位" formControlName="company_id" (ngModelChange)="selectedCompanyChange($event)">
                <ng-container *ngFor="let item of companyList">
                    <nz-option [nzLabel]="item.name" [nzValue]="item.id"></nz-option>
               </ng-container>
             </nz-select>
        </nz-form-control>
    </nz-form-item>
    
    <nz-form-item>
        <nz-form-label nzFor="is_split" nzRequired>
            <span>
                是否分割
                <i nz-icon nz-tooltip nzTooltipTitle="是否需要对合同进行分割，适用于多部门共同执行一个合同内容" nzType="question-circle" nzTheme="outline"></i>
          </span>
        </nz-form-label>
        <nz-form-control nzErrorTip="请选择是否需要分割合同">
            <nz-radio-group formControlName="is_split" (ngModelChange)="isSplitChange($event)">
                <label nz-radio [nzValue]="true">是</label>
                <label nz-radio [nzValue]="false">否</label>
            </nz-radio-group>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item *ngIf="!validateForm.get('is_split')?.value">
        <nz-form-label nzFor="department_id" nzRequired>所属部门</nz-form-label>
        <nz-form-control nzErrorTip="请选择所属部门">
            <nz-select style="width: 100%;" id="department_id" nzShowSearch
                nzPlaceHolder="请选择所属部门" formControlName="department_id">
                <ng-container *ngFor="let item of configsOption.department">
                    <nz-option [nzLabel]="item.name" [nzValue]="item.id"></nz-option>
               </ng-container>
             </nz-select>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label nzFor="service_category_id" nzRequired>服务商类型</nz-form-label>
        <nz-form-control nzErrorTip="请选择服务商类型">
            <nz-select style="width: 100%;" id="service_category_id" nzShowSearch
                nzPlaceHolder="请选择服务商类型" formControlName="service_category_id">
                <ng-container *ngFor="let item of configsOption.serviceCategory">
                    <nz-option [nzLabel]="item.name" [nzValue]="item.id"></nz-option>
               </ng-container>
             </nz-select>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label nzFor="contract_category_id" nzRequired>合同类型</nz-form-label>
        <nz-form-control nzErrorTip="请选择合同类型">
            <nz-select style="width: 100%;" id="contract_category_id" nzShowSearch
                nzPlaceHolder="请选择合同类型" formControlName="contract_category_id">
                <ng-container *ngFor="let item of configsOption.contractCategory">
                    <nz-option [nzLabel]="item.name" [nzValue]="item.id"></nz-option>
               </ng-container>
             </nz-select>
        </nz-form-control>
    </nz-form-item>
    
    <nz-form-item>
        <nz-form-label nzFor="name" nzRequired>合同名称</nz-form-label>
        <nz-form-control nzErrorTip="请填写合同名称">
            <input id="name" formControlName="name" nz-input placeholder="填写合同名称" />
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label nzFor="contract_number" nzRequired>合约编号</nz-form-label>
        <nz-form-control nzErrorTip="请填写合约编号">
            <input nz-input id="contract_number" formControlName="contract_number" placeholder="输入合约编号" />
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label nzFor="contract_time" nzRequired>合约起止日期</nz-form-label>
        <nz-form-control nzErrorTip="请选择合约起止日期">
            <app-range-datepicker id="contract_time" formControlName="contract_time"></app-range-datepicker>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label nzFor="pay_company" nzRequired>收款单位</nz-form-label>
        <nz-form-control nzErrorTip="请填写收款单位">
            <input id="pay_company" formControlName="pay_company" nz-input placeholder="填写收款单位" />
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label nzFor="bank_account" nzRequired>收款账号</nz-form-label>
        <nz-form-control nzErrorTip="请填写收款银行账号">
            <input nz-input id="bank_account" formControlName="bank_account" placeholder="输入收款银行账号" />
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label nzFor="bank_name" nzRequired>银行名称</nz-form-label>
        <nz-form-control nzErrorTip="请填写收款账号银行名称">
            <input id="bank_name" formControlName="bank_name" nz-input placeholder="填写收款账号银行名称，如： 成都银行" />
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label nzFor="is_amount" nzRequired>金额类型</nz-form-label>
        <nz-form-control nzErrorTip="请选择金额类型">
            <nz-radio-group id="is_amount" formControlName="is_amount">
                <label nz-radio nzValue="A">合同金额</label>
                <label nz-radio nzValue="B">请示金额</label>
              </nz-radio-group>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label nzFor="amount" nzRequired>{{ validateForm.value.is_amount === 'A' ? '合同金额' : '请示金额'}}</nz-form-label>
        <nz-form-control nzErrorTip="请填写{{ validateForm.value.is_amount === 'A' ? '合同金额' : '请示金额'}}">
            <nz-input-group nzSuffix="元">
                <input type="text" id="amount" formControlName="amount" nz-input placeholder="请填写{{ validateForm.value.is_amount === 'A' ? '合同金额' : '请示金额'}}" />
            </nz-input-group>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label nzRequired>
            <span>合约附件</span>
        </nz-form-label>
        <nz-form-control>
            <p class="text-error m0" *ngIf="attachmentError">合同附件未全部上传，每个类型均需要有对应的文件上传</p>
            <!-- <app-upload-file [Attachment]="attachment" [AttachmentCategory]="attachmentCategory" [isAttachmentChange]="isAttachmentChange" (attachmentChange)="attachmentChange($event)"></app-upload-file> -->
            <app-upload-file-attachment-tpl [Attachment]="attachment" [AttachmentCategory]="attachmentCategory"
    [isAttachmentChange]="isAttachmentChange" (attachmentChange)="attachmentChange($event)"></app-upload-file-attachment-tpl>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item nz-row>
        <nz-form-control [nzSpan]="18" [nzOffset]="6">
            <button nz-button nzType="primary" [nzLoading]="submitLoading">{{ data ? '保存' : '新增' }}</button>
        </nz-form-control>
    </nz-form-item>
</form>